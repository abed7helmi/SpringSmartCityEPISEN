<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.thymeleaf.org ">
<head>
    <meta charset="utf-8"/>
    <link href="bouton.css" rel="stylesheet"/>
    <title>Premiere page</title>
    <script src="httpÃ¨s://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" >
    function getFoyer() {
    $.ajax({
        url: 'http://172.31.249.161:8081',
        headers: {
            'Content-Type': 'application/json'
        },
        type: 'GET',
        dataType: 'json',
        success: function (data) {
            data.map(foyer => {
                $("list-foyer")
                    .append($('<tr>')
                        .append($('<li>').text(foyer.name_foyer))

                    );
            })
        },
        error: function () {
            alert("Error occurred while trying to retrieve users data, please try again")
        }
    });
}
    </script>

</head>

<header>
    <h3>SMART US</h3>
</header>

<body>
<div>
    <h1> ALERTES SUR LES DEPASSEMENTS ENERGETIQUES</h1>
</div>
<div id="moncadre">
    <div>
        <div id="pp-body-down">
            <center>
                <ul style="list-style-type: none">

                    <thread>
                        <tbody>
                            <tr th:each="foyer: ${foyers}">

                            <li></li>

                              </tr>
                        </tbody>
                    </thread>
                </ul>
            </center>
        </div>
    </div>
    <div>
        <script type="text/javascript">
            getFoyer()
            direBonjour()
        </script>
    </div>

    <div id="popup1" class="overlay">
        <div class="popup">
            <h2>Consommation</h2>
            <a class="close" href="#">&times;</a>
            <div class="content">
                <div>
                    <div th:object="${valeur}">La valeur est :
                        <p th:text="${valeur}"></p></div>
                    <div class="popupCloseButton">&times;</div>
                </div>
            </div>
        </div>
    </div>

    </a>
</div>
</body>


</html>